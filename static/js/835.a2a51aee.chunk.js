"use strict";(self.webpackChunkphonebook=self.webpackChunkphonebook||[]).push([[835],{9835:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var s="styles_wrapper__i5vFa",a=n(9085),r=n(885),i=n(5984),o=n(5705),l=n(7692),c="styles_formBox__3m3UG",u="styles_formButton__KX-mi",d="styles_label__LmsNk",m="styles_input__drtXr",h=n(9126),x=n(5299),p=n(2791),j=n(4733),f=n(184),b=function(){var e=(0,j.Lr)(),t=(0,r.Z)(e,1)[0],n=(0,j.wY)().data,s=void 0===n?[]:n,a=(0,p.useState)(""),b=(0,r.Z)(a,2),v=b[0],y=b[1],_=(0,p.useState)(""),N=(0,r.Z)(_,2),g=N[0],C=N[1],Z=(0,i.x0)(),k=(0,i.x0)(),z=function(e){var t=e.target,n=t.name,s=t.value;switch(n){case"name":y(s);break;case"number":C(s);break;default:return}};return(0,f.jsx)(o.J9,{children:(0,f.jsxs)(o.l0,{onSubmit:function(e){e.preventDefault();var n=s.find((function(e){return e.name.toLowerCase()===v.toLowerCase()})),a={id:(0,i.x0)(),name:v,number:g};n||(t(a),y(""),C("")),n&&x.Report.failure("".concat(v," is already in contacts"),"sorry")},className:c,children:[(0,f.jsxs)("label",{className:d,children:[(0,f.jsx)(l.cHT,{size:35}),"Name",(0,f.jsx)(o.gN,{className:m,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:v,onChange:z,required:!0,id:Z})]}),(0,f.jsxs)("label",{className:d,children:[(0,f.jsx)(h.Wsq,{size:25}),"Number",(0,f.jsx)(o.gN,{className:m,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:g,onChange:z,required:!0,id:k})]}),(0,f.jsx)("button",{type:"submit",className:u,children:"Add contact"})]})})},v="styles_contactButton__lx8N9",y=n(3504),_=n(6871),N=n(6355),g=n(6053),C=n(6980),Z=n(2576),k=n(5048),z=n(6748),w=n(8206),F=n(5660),A=n(6928),L=function(){var e=(0,j.wY)(),t=e.data,n=e.isFetching,s=e.refetch,a=(0,_.TH)(),i=(0,j.Nt)(),o=(0,r.Z)(i,1)[0],l=(0,k.v9)(z.zK);(0,p.useEffect)((function(){s()}),[s]);var c=""===l?t:t.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase().trim())}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("ul",{children:(0,f.jsx)(F.Z,{component:null,children:t&&c.map((function(e){var t=e.name,n=e.id,s=e.number;return(0,f.jsx)(A.Z,{timeout:500,classNames:"item",children:(0,f.jsxs)("li",{id:n,children:[(0,f.jsxs)("span",{children:[t," : "]}),(0,f.jsxs)("span",{children:[" ",s]}),(0,f.jsx)(C.Z,{placement:"bottom",overlay:(0,f.jsx)(Z.Z,{id:"button-tooltip-2",children:"Click to update"}),children:(0,f.jsx)(y.rU,{to:"update/".concat(n),state:{from:a},children:(0,f.jsx)("button",{className:v,type:"button","aria-label":"link to update contact page",children:(0,f.jsx)(g.UWC,{size:30})})})}),(0,f.jsx)(C.Z,{placement:"bottom",overlay:(0,f.jsx)(Z.Z,{id:"button-tooltip-2",children:"Click to delete"}),children:(0,f.jsx)("button",{className:v,type:"button",onClick:function(){o(n)},"aria-label":"delete contact button",children:(0,f.jsx)(N.DTd,{size:30,color:"red"})})})]},n)},n)}))})}),n&&(0,f.jsx)(w.s,{size:47,thickness:150,speed:98,color:"rgba(57, 172, 59, 1)",secondaryColor:"rgba(57, 158, 172, 0.58)"})]})},T="styles_label__cWZI-",U="styles_inputFiltr__fvUjD",B=n(6856),I=function(){var e=(0,k.I0)(),t=(0,k.v9)(z.zK);return(0,f.jsxs)("label",{className:T,children:[(0,f.jsx)(B.jpR,{size:30}),"Find contacts by name",(0,f.jsx)(C.Z,{placement:"bottom",overlay:(0,f.jsx)(Z.Z,{id:"filter input tooltip",children:"Type here to find a contact"}),children:(0,f.jsx)("input",{className:U,name:"filter",value:t,onChange:function(t){return e((0,z.Tv)(t.currentTarget.value))}})})]})},S=n(5216),q=n(7817),D=n(1671),K=function(){return(0,f.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle ","aria-label":"loading screen",children:(0,f.jsxs)("div",{className:"d-flex justify-content-center",children:[" ",(0,f.jsx)(D.v,{size:320,color:"white",speed:150})]})})},W=function(){var e=(0,k.I0)();return(0,p.useEffect)((function(){e(q.Z.fetchCurrentUser()).unwrap().catch((function(){a.Am.error("Sorry, your authorization token expired, please relogin",{icon:function(){return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(B.vVM,{size:24,color:"var(--toastify-color-error)"})})}}),e(q.Z.logOut())}))}),[e]),(0,k.v9)(S.Z.getIsFetchingCurrentUser)?(0,f.jsx)(K,{}):(0,f.jsxs)("div",{className:s,children:[(0,f.jsxs)("section",{children:[(0,f.jsx)("h1",{children:"Phonebook"}),(0,f.jsx)(b,{})]}),(0,f.jsxs)("section",{children:[(0,f.jsx)("h2",{children:"Contacts"}),(0,f.jsx)(I,{}),(0,f.jsx)(L,{})]})]})}}}]);
//# sourceMappingURL=835.a2a51aee.chunk.js.map